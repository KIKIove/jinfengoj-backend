# 金凤OJ在线判题系统
用于交流学习使用，本项目已经实现基本的流程，但存在相当多不足，判题的规则并不够完善，需要时间来进行不断的迭代更新。
### 主流框架 & 特性
- spring boot 2.7
- spring mvc
- mybatis-plus
- docker

### 数据存储
- mysql
- redis(预留但未启用)
- 腾讯云cos(未启用)

### 工具类
- hutool
- apache-commons

## 业务功能
- 用户注册、登录、修改信息等基础操作
- 题目管理、修改题目、添加题目、删除题目、查看题目等
- 提交代码、查看提交记录、查看提交结果等

## 代码沙箱
目前仅实现Java语言代码沙箱

### 本地代码沙箱
采用jdk1.8来实现，通过javac以及java来编译运行代码，通过命令行直接传参的方式运行代码，读取输出流获取结果。
- 优点：
1. 代码运行环境与判题环境一致，不会出现运行环境差异导致的结果不一致问题。
2. 更加轻量化，能够更加灵活的进行修改调用。
3. 性能相对而言会更高。

### docker代码沙箱
采用jdk1.8镜像来创建容器，每一份代码都会创建新的容器来运行，获取容器运行结果并返回。
- 优点：
1. 代码在独立的容器中执行，不会受到外部因素影响。
2. 隔离了用户代码，安全性更高。
3. docker能够比较容易的获取容器的各种参数，包括运行时间、内存占用等。

### 本地与docker差别
1. 本地代码沙箱相对于docker更加轻量化，不需要每次都创建新的沙箱，减少了出错的可能。
2. 本地代码沙箱的安全性不够docker高，需要使用java安全管理器以及沙箱黑名单来限制代码执行。
3. docker能够轻松的获取到容器的各种运行参数，而本地代码沙箱需要获取这些信息需要用到第三方库，调用系统级的指令来获取，但docker-java的api并不够完善。

